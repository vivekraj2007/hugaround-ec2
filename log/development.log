  [1m[36m (805.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (777.5ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to DeviseCreateUsers (20120728210244)
  [1m[35m (675.5ms)[0m  CREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (510.1ms)[0m  [1mCREATE UNIQUE INDEX `index_users_on_email`  ON `users` (`email`) [0m
  [1m[35m (456.4ms)[0m  CREATE UNIQUE INDEX `index_users_on_reset_password_token`  ON `users` (`reset_password_token`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20120728210244')
  [1m[36m (95.1ms)[0m  [1mCOMMIT[0m
Migrating to AddAdminToUsers (20120728215449)
  [1m[35m (1124.1ms)[0m  ALTER TABLE `users` ADD `admin` tinyint(1) DEFAULT 0 NOT NULL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20120728215449')
  [1m[36m (91.2ms)[0m  [1mCOMMIT[0m
Migrating to EnableLockableStrategyForDevise (20120919061122)
  [1m[35m (951.7ms)[0m  ALTER TABLE `users` ADD `failed_attempts` int(11) DEFAULT 0
  [1m[36m (1199.3ms)[0m  [1mALTER TABLE `users` ADD `unlock_token` varchar(255)[0m
  [1m[35m (954.7ms)[0m  ALTER TABLE `users` ADD `locked_at` datetime
  [1m[36m (596.3ms)[0m  [1mCREATE UNIQUE INDEX `index_users_on_unlock_token`  ON `users` (`unlock_token`) [0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20120919061122')[0m
  [1m[35m (152.6ms)[0m  COMMIT
Migrating to AddUsernameToUsers (20120919063304)
  [1m[36m (1285.8ms)[0m  [1mALTER TABLE `users` ADD `username` varchar(255)[0m
  [1m[35mAddUsernameToUsers::User Load (0.8ms)[0m  SELECT  `users`.* FROM `users`   ORDER BY `users`.`id` ASC LIMIT 1000
  [1m[36m (1563.9ms)[0m  [1mALTER TABLE `users` CHANGE `username` `username` varchar(255) NOT NULL[0m
  [1m[35m (1355.1ms)[0m  CREATE UNIQUE INDEX `index_users_on_username`  ON `users` (`username`) 
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20120919063304')
  [1m[36m (217.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateEvents (20121216025930)
  [1m[35m (705.0ms)[0m  CREATE TABLE `events` (`id` int(11) auto_increment PRIMARY KEY, `user_id` int(11), `agent_id` int(11), `lat` decimal(15,10), `lng` decimal(15,10), `payload` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (546.1ms)[0m  [1mCREATE  INDEX `index_events_on_user_id_and_created_at`  ON `events` (`user_id`, `created_at`) [0m
  [1m[35m (811.4ms)[0m  CREATE  INDEX `index_events_on_agent_id_and_created_at`  ON `events` (`agent_id`, `created_at`) 
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121216025930')
  [1m[36m (140.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateAgents (20121220053905)
  [1m[35m (692.8ms)[0m  CREATE TABLE `agents` (`id` int(11) auto_increment PRIMARY KEY, `user_id` int(11), `options` text, `type` varchar(255), `name` varchar(255), `schedule` varchar(255), `events_count` int(11), `last_check_at` datetime, `last_receive_at` datetime, `last_checked_event_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (528.4ms)[0m  [1mCREATE  INDEX `index_agents_on_user_id_and_created_at`  ON `agents` (`user_id`, `created_at`) [0m
  [1m[35m (552.9ms)[0m  CREATE  INDEX `index_agents_on_type`  ON `agents` (`type`) 
  [1m[36m (697.7ms)[0m  [1mCREATE  INDEX `index_agents_on_schedule`  ON `agents` (`schedule`) [0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121220053905')[0m
  [1m[35m (84.6ms)[0m  COMMIT
Migrating to CreateLinks (20121222074732)
  [1m[36m (596.8ms)[0m  [1mCREATE TABLE `links` (`id` int(11) auto_increment PRIMARY KEY, `source_id` int(11), `receiver_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (597.3ms)[0m  CREATE  INDEX `index_links_on_source_id_and_receiver_id`  ON `links` (`source_id`, `receiver_id`) 
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121222074732')
  [1m[36m (98.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateDelayedJobs (20121223203701)
  [1m[35m (730.8ms)[0m  CREATE TABLE `delayed_jobs` (`id` int(11) auto_increment PRIMARY KEY, `priority` int(11) DEFAULT 0, `attempts` int(11) DEFAULT 0, `handler` text, `last_error` text, `run_at` datetime, `locked_at` datetime, `failed_at` datetime, `locked_by` varchar(255), `queue` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (470.0ms)[0m  [1mCREATE  INDEX `delayed_jobs_priority`  ON `delayed_jobs` (`priority`, `run_at`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121223203701')[0m
  [1m[35m (83.1ms)[0m  COMMIT
Migrating to AddMemoryToAgents (20121231170705)
  [1m[36m (1456.4ms)[0m  [1mALTER TABLE `agents` ADD `memory` text[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121231170705')[0m
  [1m[35m (90.5ms)[0m  COMMIT
Migrating to AddInvitationCodeToUsers (20130107050049)
  [1m[36m (2122.8ms)[0m  [1mALTER TABLE `users` ADD `invitation_code` varchar(255) NOT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130107050049')[0m
  [1m[35m (222.0ms)[0m  COMMIT
Migrating to AddIndexes (20130124050117)
  [1m[36m (1299.3ms)[0m  [1mCREATE  INDEX `index_links_on_receiver_id_and_source_id`  ON `links` (`receiver_id`, `source_id`) [0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130124050117')[0m
  [1m[35m (77.3ms)[0m  COMMIT
Migrating to ChangeMemoryToLongText (20130126080736)
  [1m[36m (1512.3ms)[0m  [1mALTER TABLE `agents` CHANGE `memory` `memory` longtext DEFAULT NULL[0m
  [1m[35m (1261.2ms)[0m  ALTER TABLE `events` CHANGE `payload` `payload` mediumtext DEFAULT NULL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130126080736')
  [1m[36m (80.5ms)[0m  [1mCOMMIT[0m
Migrating to AddLastWebhookAtToAgents (20130509053743)
  [1m[35m (1444.6ms)[0m  ALTER TABLE `agents` ADD `last_webhook_at` datetime
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130509053743')
  [1m[36m (85.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateAgentLogs (20130819160603)
  [1m[35m (663.2ms)[0m  CREATE TABLE `agent_logs` (`id` int(11) auto_increment PRIMARY KEY, `agent_id` int(11) NOT NULL, `message` text NOT NULL, `level` int(11) DEFAULT 3 NOT NULL, `inbound_event_id` int(11), `outbound_event_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130819160603')
  [1m[36m (92.8ms)[0m  [1mCOMMIT[0m
Migrating to AddExpiresAtToEvents (20131105063248)
  [1m[35m (1459.7ms)[0m  ALTER TABLE `events` ADD `expires_at` datetime
  [1m[36m (688.2ms)[0m  [1mCREATE  INDEX `index_events_on_expires_at`  ON `events` (`expires_at`) [0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131105063248')[0m
  [1m[35m (73.0ms)[0m  COMMIT
Migrating to AddKeepEventsForToAgents (20131222211558)
  [1m[36m (1222.5ms)[0m  [1mALTER TABLE `agents` ADD `keep_events_for` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131222211558')[0m
  [1m[35m (91.2ms)[0m  COMMIT
Migrating to SwitchToJsonSerialization (20131223032112)
  [1m[36m (43.3ms)[0m  [1mSELECT count(*) FROM `events`[0m
  [1m[35m (0.6ms)[0m  SELECT count(*) FROM `agents`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131223032112')
  [1m[36m (120.0ms)[0m  [1mCOMMIT[0m
Migrating to AddCachedDatesToAgent (20131227000021)
  [1m[35m (1282.3ms)[0m  ALTER TABLE `agents` ADD `last_event_at` datetime
  [1m[36m (76.4ms)[0m  [1mUPDATE agents SET last_event_at = (SELECT created_at FROM events WHERE events.agent_id = agents.id ORDER BY id DESC LIMIT 1)[0m
  [1m[35m (1673.2ms)[0m  ALTER TABLE `agents` ADD `last_error_log_at` datetime
  [1m[36m (0.5ms)[0m  [1mUPDATE agents SET last_error_log_at = (SELECT created_at FROM agent_logs WHERE agent_logs.agent_id = agents.id AND agent_logs.level >= 4 ORDER BY id DESC LIMIT 1)[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131227000021')[0m
  [1m[35m (169.4ms)[0m  COMMIT
Migrating to CreateUserCredentials (20140121075418)
  [1m[36m (977.6ms)[0m  [1mCREATE TABLE `user_credentials` (`id` int(11) auto_increment PRIMARY KEY, `user_id` int(11) NOT NULL, `credential_name` varchar(255) NOT NULL, `credential_value` text NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (508.2ms)[0m  CREATE UNIQUE INDEX `index_user_credentials_on_user_id_and_credential_name`  ON `user_credentials` (`user_id`, `credential_name`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140121075418')
  [1m[36m (88.3ms)[0m  [1mCOMMIT[0m
Migrating to ChangeHandlerToMediumText (20140127164931)
  [1m[35m (1361.0ms)[0m  ALTER TABLE `delayed_jobs` CHANGE `handler` `handler` mediumtext DEFAULT NULL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140127164931')
  [1m[36m (66.8ms)[0m  [1mCOMMIT[0m
Migrating to AddModeToUserCredentials (20140210062747)
  [1m[35m (898.2ms)[0m  ALTER TABLE `user_credentials` ADD `mode` varchar(255) DEFAULT 'text' NOT NULL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140210062747')
  [1m[36m (87.0ms)[0m  [1mCOMMIT[0m
Migrating to AddEventIdAtCreationToLinks (20140213053001)
  [1m[35m (1270.4ms)[0m  ALTER TABLE `links` ADD `event_id_at_creation` int(11) DEFAULT 0 NOT NULL
  [1m[36mAddEventIdAtCreationToLinks::Link Load (0.7ms)[0m  [1mSELECT  `links`.* FROM `links`   ORDER BY `links`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140213053001')[0m
  [1m[35m (82.3ms)[0m  COMMIT
Migrating to AddPropagateImmediatelyToAgent (20140216201250)
  [1m[36m (1301.7ms)[0m  [1mALTER TABLE `agents` ADD `propagate_immediately` tinyint(1) DEFAULT 0 NOT NULL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140216201250')[0m
  [1m[35m (81.2ms)[0m  COMMIT
Migrating to AddDisabledToAgent (20140403043556)
  [1m[36m (1200.8ms)[0m  [1mALTER TABLE `agents` ADD `disabled` tinyint(1) DEFAULT 0 NOT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140403043556')[0m
  [1m[35m (92.1ms)[0m  COMMIT
Migrating to RenameWebhookToWebRequest (20140408150825)
  [1m[36m (1333.8ms)[0m  [1mALTER TABLE `agents` CHANGE `last_webhook_at` `last_web_request_at` datetime DEFAULT NULL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140408150825')[0m
  [1m[35m (81.0ms)[0m  COMMIT
Migrating to MigrateAgentsToLiquidTemplating (20140505201716)
  [1m[36mMigrateAgentsToLiquidTemplating::Agent Load (0.3ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::HipchatAgent'[0m
  [1m[35mMigrateAgentsToLiquidTemplating::Agent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::EventFormattingAgent'
  [1m[36mMigrateAgentsToLiquidTemplating::Agent Load (0.5ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::PushbulletAgent'[0m
  [1m[35mMigrateAgentsToLiquidTemplating::Agent Load (0.6ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::JabberAgent'
  [1m[36mMigrateAgentsToLiquidTemplating::Agent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::DataOutputAgent'[0m
  [1m[35mMigrateAgentsToLiquidTemplating::Agent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::TranslationAgent'
  [1m[36mMigrateAgentsToLiquidTemplating::Agent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::TwitterPublishAgent'[0m
  [1m[35mMigrateAgentsToLiquidTemplating::Agent Load (0.6ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::TriggerAgent'
  [1m[36mMigrateAgentsToLiquidTemplating::Agent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::PeakDetectorAgent'[0m
  [1m[35mMigrateAgentsToLiquidTemplating::Agent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::HumanTaskAgent'
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140505201716')
  [1m[36m (210.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateScenarios (20140509170420)
  [1m[35m (616.7ms)[0m  CREATE TABLE `scenarios` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `user_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (2298.5ms)[0m  [1mALTER TABLE `users` ADD `scenario_count` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140509170420')[0m
  [1m[35m (198.0ms)[0m  COMMIT
Migrating to CreateScenarioMemberships (20140509170443)
  [1m[36m (1258.7ms)[0m  [1mCREATE TABLE `scenario_memberships` (`id` int(11) auto_increment PRIMARY KEY, `agent_id` int(11) NOT NULL, `scenario_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140509170443')[0m
  [1m[35m (76.2ms)[0m  COMMIT
Migrating to CreateServices (20140515211100)
  [1m[36m (882.9ms)[0m  [1mCREATE TABLE `services` (`id` int(11) auto_increment PRIMARY KEY, `user_id` int(11) NOT NULL, `provider` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `token` text NOT NULL, `secret` text, `refresh_token` text, `expires_at` datetime, `global` tinyint(1) DEFAULT 0, `options` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (546.8ms)[0m  CREATE  INDEX `index_services_on_user_id`  ON `services` (`user_id`) 
  [1m[36m (560.7ms)[0m  [1mCREATE  INDEX `index_services_on_user_id_and_global`  ON `services` (`user_id`, `global`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140515211100')[0m
  [1m[35m (82.8ms)[0m  COMMIT
Migrating to AddServiceIdToAgents (20140525150040)
  [1m[36m (1331.5ms)[0m  [1mALTER TABLE `agents` ADD `service_id` int(11)[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140525150040')[0m
  [1m[35m (84.8ms)[0m  COMMIT
Migrating to MigrateAgentsToServiceAuthentication (20140525150140)
  [1m[36mAgent Load (0.9ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` IN ('Agents::TwitterUserAgent', 'Agents::TwitterStreamAgent', 'Agents::TwitterPublishAgent')[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `agents`  WHERE `agents`.`type` IN ('Agents::BasecampAgent')
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140525150140')
  [1m[36m (91.6ms)[0m  [1mCOMMIT[0m
Migrating to AddFieldsToScenarios (20140531232016)
  [1m[35m (1385.9ms)[0m  ALTER TABLE `scenarios` ADD `description` text
  [1m[36m (966.6ms)[0m  [1mALTER TABLE `scenarios` ADD `public` tinyint(1) DEFAULT 0 NOT NULL[0m
  [1m[35m (1098.4ms)[0m  ALTER TABLE `scenarios` ADD `guid` varchar(255) NOT NULL
  [1m[36m (921.5ms)[0m  [1mALTER TABLE `scenarios` ADD `source_url` varchar(255)[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140531232016')[0m
  [1m[35m (150.6ms)[0m  COMMIT
Migrating to AddIndicesToScenarios (20140602014917)
  [1m[36m (750.2ms)[0m  [1mCREATE UNIQUE INDEX `index_scenarios_on_user_id_and_guid`  ON `scenarios` (`user_id`, `guid`) [0m
  [1m[35m (1268.5ms)[0m  CREATE  INDEX `index_scenario_memberships_on_agent_id`  ON `scenario_memberships` (`agent_id`) 
  [1m[36m (957.1ms)[0m  [1mCREATE  INDEX `index_scenario_memberships_on_scenario_id`  ON `scenario_memberships` (`scenario_id`) [0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140602014917')[0m
  [1m[35m (152.9ms)[0m  COMMIT
Migrating to RenameDigestEmailToEmailDigest (20140603104211)
  [1m[36m (0.3ms)[0m  [1m      UPDATE `agents`
      SET `type` = 'Agents::EmailDigestAgent'
      WHERE `type` = 'Agents::DigestEmailAgent'
[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140603104211')[0m
  [1m[35m (113.3ms)[0m  COMMIT
Migrating to AddGuidToAgents (20140605032822)
  [1m[36m (1563.9ms)[0m  [1mALTER TABLE `agents` ADD `guid` varchar(255)[0m
  [1m[35mAddGuidToAgents::Agent Load (0.4ms)[0m  SELECT  `agents`.* FROM `agents`   ORDER BY `agents`.`id` ASC LIMIT 1000
  [1m[36m (1569.9ms)[0m  [1mALTER TABLE `agents` CHANGE `guid` `guid` varchar(255) NOT NULL[0m
  [1m[35m (478.1ms)[0m  CREATE  INDEX `index_agents_on_guid`  ON `agents` (`guid`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140605032822')
  [1m[36m (77.4ms)[0m  [1mCOMMIT[0m
Migrating to ConvertEfaSkipAgent (20140722131220)
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::EventFormattingAgent'
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140722131220')
  [1m[36m (119.8ms)[0m  [1mCOMMIT[0m
Migrating to AdoptXpathInWebsiteAgent (20140723110551)
  [1m[35mAdoptXpathInWebsiteAgent::Agent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::WebsiteAgent'
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140723110551')
  [1m[36m (116.7ms)[0m  [1mCOMMIT[0m
Migrating to ConvertEfaSkipCreatedAt (20140730005210)
  [1m[35mAgent Load (0.1ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::EventFormattingAgent'
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140730005210')
  [1m[36m (108.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveServiceIndexOnUserId (20140809211540)
  [1m[35m (495.4ms)[0m  DROP INDEX `index_services_on_user_id` ON `services`
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140809211540')
  [1m[36m (87.9ms)[0m  [1mCOMMIT[0m
Migrating to AddUidColumnToServices (20140811200922)
  [1m[35m (1188.7ms)[0m  ALTER TABLE `services` ADD `uid` varchar(255)
  [1m[36m (444.2ms)[0m  [1mCREATE  INDEX `index_services_on_uid`  ON `services` (`uid`) [0m
  [1m[35m (622.4ms)[0m  CREATE  INDEX `index_services_on_provider`  ON `services` (`provider`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140811200922')
  [1m[36m (83.5ms)[0m  [1mCOMMIT[0m
Migrating to SetCharsetForMysql (20140813110107)
  [1m[35m (0.2ms)[0m  show character set like 'utf8mb4'
  [1m[36m (1364.2ms)[0m  [1mALTER TABLE `agents` CHANGE `options` `options` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL[0m
  [1m[35m (1986.4ms)[0m  ALTER TABLE `agents` CHANGE `type` `type` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL
  [1m[36m (1944.1ms)[0m  [1mALTER TABLE `agents` CHANGE `name` `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL[0m
  [1m[35m (1599.4ms)[0m  ALTER TABLE `agents` CHANGE `schedule` `schedule` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL
  [1m[36m (1409.4ms)[0m  [1mALTER TABLE `agents` CHANGE `memory` `memory` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL[0m
  [1m[35m (1503.7ms)[0m  ALTER TABLE agents CHARACTER SET utf8 COLLATE utf8_unicode_ci
  [1m[36m (798.7ms)[0m  [1mALTER TABLE `agent_logs` CHANGE `message` `message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL[0m
  [1m[35m (978.8ms)[0m  ALTER TABLE agent_logs CHARACTER SET utf8 COLLATE utf8_unicode_ci
  [1m[36m (1204.3ms)[0m  [1mALTER TABLE `events` CHANGE `payload` `payload` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL[0m
  [1m[35m (1670.8ms)[0m  ALTER TABLE events CHARACTER SET utf8 COLLATE utf8_unicode_ci
  [1m[36m (2081.4ms)[0m  [1mALTER TABLE links CHARACTER SET utf8 COLLATE utf8_unicode_ci[0m
  [1m[35m (1175.6ms)[0m  ALTER TABLE `scenarios` CHANGE `name` `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL
  [1m[36m (1563.1ms)[0m  [1mALTER TABLE `scenarios` CHANGE `description` `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL[0m
  [1m[35m (1494.5ms)[0m  ALTER TABLE `scenarios` CHANGE `guid` `guid` varchar(255) CHARACTER SET ascii COLLATE ascii_bin NOT NULL
  [1m[36m (203.8ms)[0m  [1mALTER TABLE `scenarios` CHANGE `source_url` `source_url` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL[0m
  [1m[35m (1145.9ms)[0m  ALTER TABLE scenarios CHARACTER SET utf8 COLLATE utf8_unicode_ci
  [1m[36m (1124.2ms)[0m  [1mALTER TABLE scenario_memberships CHARACTER SET utf8 COLLATE utf8_unicode_ci[0m
  [1m[35m (1460.3ms)[0m  ALTER TABLE `users` CHANGE `email` `email` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT '' NOT NULL
  [1m[36m (1616.2ms)[0m  [1mALTER TABLE `users` CHANGE `encrypted_password` `encrypted_password` varchar(255) CHARACTER SET ascii COLLATE ascii_bin DEFAULT '' NOT NULL[0m
  [1m[35m (2009.7ms)[0m  ALTER TABLE `users` CHANGE `reset_password_token` `reset_password_token` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL
  [1m[36m (284.1ms)[0m  [1mALTER TABLE `users` CHANGE `current_sign_in_ip` `current_sign_in_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL[0m
  [1m[35m (360.1ms)[0m  ALTER TABLE `users` CHANGE `last_sign_in_ip` `last_sign_in_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL
  [1m[36m (172.8ms)[0m  [1mALTER TABLE `users` CHANGE `unlock_token` `unlock_token` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL[0m
  [1m[35m (1097.4ms)[0m  ALTER TABLE `users` CHANGE `username` `username` varchar(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL
  [1m[36m (1488.4ms)[0m  [1mALTER TABLE `users` CHANGE `invitation_code` `invitation_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL[0m
  [1m[35m (1535.4ms)[0m  ALTER TABLE users CHARACTER SET utf8 COLLATE utf8_unicode_ci
  [1m[36m (187.1ms)[0m  [1mALTER TABLE `user_credentials` CHANGE `credential_name` `credential_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL[0m
  [1m[35m (244.8ms)[0m  ALTER TABLE `user_credentials` CHANGE `credential_value` `credential_value` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL
  [1m[36m (1110.5ms)[0m  [1mALTER TABLE `user_credentials` CHANGE `mode` `mode` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT 'text' NOT NULL[0m
  [1m[35m (983.1ms)[0m  ALTER TABLE user_credentials CHARACTER SET utf8 COLLATE utf8_unicode_ci
  [1m[36m (1169.3ms)[0m  [1mALTER TABLE `delayed_jobs` CHANGE `handler` `handler` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL[0m
  [1m[35m (995.8ms)[0m  ALTER TABLE `delayed_jobs` CHANGE `last_error` `last_error` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL
  [1m[36m (224.5ms)[0m  [1mALTER TABLE `delayed_jobs` CHANGE `locked_by` `locked_by` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL[0m
  [1m[35m (352.0ms)[0m  ALTER TABLE `delayed_jobs` CHANGE `queue` `queue` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL
  [1m[36m (1693.6ms)[0m  [1mALTER TABLE delayed_jobs CHARACTER SET utf8 COLLATE utf8_unicode_ci[0m
  [1m[35m (47.4ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.5ms)[0m  [1mALTER DATABASE huginn_development CHARACTER SET utf8 COLLATE utf8_unicode_ci[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140813110107')[0m
  [1m[35m (328.2ms)[0m  COMMIT
Migrating to AddTagColorToScenarios (20140820003139)
  [1m[36m (1222.0ms)[0m  [1mALTER TABLE `scenarios` ADD `tag_bg_color` varchar(255)[0m
  [1m[35m (1298.8ms)[0m  ALTER TABLE `scenarios` ADD `tag_fg_color` varchar(255)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140820003139')
  [1m[36m (142.6ms)[0m  [1mCOMMIT[0m
Migrating to AddControlLinks (20140901143732)
  [1m[35m (785.9ms)[0m  CREATE TABLE `control_links` (`id` int(11) auto_increment PRIMARY KEY, `controller_id` int(11) NOT NULL, `control_target_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (602.3ms)[0m  [1mCREATE UNIQUE INDEX `index_control_links_on_controller_id_and_control_target_id`  ON `control_links` (`controller_id`, `control_target_id`) [0m
  [1m[35m (766.2ms)[0m  CREATE  INDEX `index_control_links_on_control_target_id`  ON `control_links` (`control_target_id`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140901143732')
  [1m[36m (74.2ms)[0m  [1mCOMMIT[0m
Migrating to SetEventsCountDefault (20140906030139)
  [1m[35m (273.0ms)[0m  ALTER TABLE `agents` CHANGE `events_count` `events_count` int(11) DEFAULT 0
  [1m[36m (0.5ms)[0m  [1mUPDATE `agents` SET `events_count`=0 WHERE `events_count` IS NULL[0m
  [1m[35m (1327.7ms)[0m  ALTER TABLE `agents` CHANGE `events_count` `events_count` int(11) DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140906030139')
  [1m[36m (77.9ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`


Started GET "/" for 127.0.0.1 at 2014-10-05 21:22:45 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by HomeController#index as HTML
Geokit is using the domain: localhost
  Rendered home/_signed_out_index.html.erb (50.4ms)
  Rendered home/index.html.erb within layouts/application (113.0ms)
WARNING on line 34 of /media/20DEE5BFDEE58CFA/rorapps/hugaround/app/assets/stylesheets/application.css.scss.erb: "#error_explanation" failed to @extend ".alert-error".
  The selector ".alert-error" was not found.
  This will be an error in future releases of Sass.
  Use "@extend .alert-error !optional" if the extend should be able to fail.


WARNING on line 35 of /media/20DEE5BFDEE58CFA/rorapps/hugaround/app/assets/stylesheets/application.css.scss.erb: "#error_explanation" failed to @extend ".alert-block".
  The selector ".alert-block" was not found.
  This will be an error in future releases of Sass.
  Use "@extend .alert-block !optional" if the extend should be able to fail.


WARNING on line 39 of /media/20DEE5BFDEE58CFA/rorapps/hugaround/app/assets/stylesheets/application.css.scss.erb: ".field_with_errors" failed to @extend ".control-group.error".
  The selector ".control-group.error" was not found.
  This will be an error in future releases of Sass.
  Use "@extend .control-group.error !optional" if the extend should be able to fail.


  Rendered layouts/_navigation.html.erb (7.6ms)
  Rendered layouts/_messages.html.erb (2.1ms)
Completed 200 OK in 10068ms (Views: 9993.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-10-05 21:23:19 +0530
Processing by Devise::RegistrationsController#new as HTML
Geokit is using the domain: localhost
  Rendered devise/shared/_links.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (230.8ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_messages.html.erb (0.5ms)
Completed 200 OK in 476ms (Views: 453.9ms | ActiveRecord: 1.7ms)


Started POST "/users" for 127.0.0.1 at 2014-10-05 21:24:52 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mxcqbcpYTJ1Lhdj5fo2sDdUJuYwb/+11atDz3oti+xU=", "user"=>{"invitation_code"=>"", "email"=>"chinnujune@gmail.com", "username"=>"vivek111", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
Geokit is using the domain: localhost
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (25.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'chinnujune@gmail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`username` = BINARY 'vivek111' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  Rendered devise/shared/_links.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (32.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_messages.html.erb (0.1ms)
Completed 200 OK in 622ms (Views: 237.6ms | ActiveRecord: 26.8ms)


Started POST "/users" for 127.0.0.1 at 2014-10-05 21:25:47 +0530
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mxcqbcpYTJ1Lhdj5fo2sDdUJuYwb/+11atDz3oti+xU=", "user"=>{"invitation_code"=>"test123", "email"=>"chinnujune@gmail.com", "username"=>"vivek111", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
Geokit is using the domain: localhost
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'chinnujune@gmail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`username` = BINARY 'vivek111' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  Rendered devise/shared/_links.erb (0.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_messages.html.erb (0.2ms)
Completed 200 OK in 280ms (Views: 150.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-10-05 21:26:09 +0530
Processing by HomeController#index as HTML
Geokit is using the domain: localhost
  Rendered home/_signed_out_index.html.erb (2.2ms)
  Rendered home/index.html.erb within layouts/application (10.6ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_messages.html.erb (0.1ms)
Completed 200 OK in 142ms (Views: 139.2ms | ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`


Started GET "/" for 127.0.0.1 at 2014-10-05 23:12:06 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by HomeController#index as HTML
Geokit is using the domain: localhost
  Rendered home/_signed_out_index.html.erb (4.3ms)
  Rendered home/index.html.erb within layouts/application (22.7ms)
  Rendered layouts/_navigation.html.erb (5.6ms)
  Rendered layouts/_messages.html.erb (2.6ms)
Completed 200 OK in 671ms (Views: 591.1ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (99.2ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:37:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:37:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:17:57') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:09', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:09' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:09') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:14', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:14' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:14') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:19', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:19' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:19') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:24', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:24' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:24') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:29', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:29' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:29') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:34', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:34' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:34') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:39', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:39' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:39') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:44', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:44' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:44') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:49', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:49' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:49') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:54', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:54' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:54') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:38:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:38:57', '2014-10-06 09:38:57')
  [1m[36m (112.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:38:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:38:57', '2014-10-06 09:38:57')[0m
  [1m[35m (82.1ms)[0m  COMMIT
  [1m[36mSQL (111.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (13.4ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:38:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36mAgent Load (25.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 1[0m
  [1m[35m (92.1ms)[0m  COMMIT
  [1m[36mSQL (75.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:38:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:38:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:18:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:38:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (16.1ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 2[0m
  [1m[35m (113.0ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:05') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:10') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:15') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:20') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:25') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:30') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:35') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:40') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:45') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:50') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:39:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:39:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:19:55') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:39:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:39:57', '2014-10-06 09:39:57')[0m
  [1m[35m (100.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:39:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:39:57', '2014-10-06 09:39:57')
  [1m[36m (102.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:39:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:39:58', '2014-10-06 09:39:58')[0m
  [1m[35m (92.9ms)[0m  COMMIT
  [1m[36mAgent Load (0.5ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (105.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (1.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 3
  [1m[36m (95.9ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (89.1ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 4
  [1m[36m (79.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (92.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 5[0m
  [1m[35m (75.4ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:05') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:10') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:15') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:20') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:25') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:30') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:35') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:40') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:45') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:50') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:40:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:40:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:20:55') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:40:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:40:57', '2014-10-06 09:40:57')[0m
  [1m[35m (100.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:40:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:40:58', '2014-10-06 09:40:58')
  [1m[36m (87.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.6ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (78.1ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.6ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:41:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.1ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 6
  [1m[36m (76.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (77.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:41:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 7
  [1m[36m (78.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:06') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:11') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:16') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:21') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:26') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:31') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:36') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:41') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:46') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:51') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:41:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:41:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:21:56') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (87.4ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:41:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:41:57', '2014-10-06 09:41:57')
  [1m[36m (191.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:41:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:41:58', '2014-10-06 09:41:58')[0m
  [1m[35m (91.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:41:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:41:58', '2014-10-06 09:41:58')
  [1m[36m (83.4ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (94.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 8[0m
  [1m[35m (75.0ms)[0m  COMMIT
  [1m[36mSQL (74.1ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.2ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 9
  [1m[36m (78.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (97.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 10
  [1m[36m (78.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:06') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:11') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:16') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:21') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:26') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:31') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:36') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:41') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:46') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:51') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:42:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:42:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:22:56') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:42:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_5m\n', 10, '2014-10-06 09:42:57', '2014-10-06 09:42:57')
  [1m[36m (97.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:42:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:42:58', '2014-10-06 09:42:58')[0m
  [1m[35m (78.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:42:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:42:58', '2014-10-06 09:42:58')
  [1m[36m (95.8ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (119.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:43:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (1.3ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_5m' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 11[0m
  [1m[35m (89.2ms)[0m  COMMIT
  [1m[36mSQL (94.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:43:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.3ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 12
  [1m[36m (90.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (95.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (1.2ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:43:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 13
  [1m[36m (79.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:07', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:07' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:07') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:12', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:12' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:12') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:17', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:17' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:17') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:22', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:22' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:22') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:27', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:27' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:27') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:32', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:32' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:32') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (3.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:37', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:37' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:37') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:42', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:42' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:42') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:47', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:47' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:47') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:52', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:52' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:52') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:43:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:43:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:23:57') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:43:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:43:57', '2014-10-06 09:43:57')
  [1m[36m (105.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:43:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:43:58', '2014-10-06 09:43:58')[0m
  [1m[35m (98.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:43:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:43:58', '2014-10-06 09:43:58')
  [1m[36m (102.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.6ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (154.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:44:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 14[0m
  [1m[35m (98.4ms)[0m  COMMIT
  [1m[36mSQL (79.1ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.1ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:44:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.5ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 15
  [1m[36m (90.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (76.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:44:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 16
  [1m[36m (94.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:08', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:08' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:08') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:13', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:13' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:13') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:18', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:18' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:18') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:23', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:23' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:23') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:28', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:28' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:28') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:33', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:33' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:33') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:38', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:38' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:38') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:43', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:43' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:43') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:48', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:48' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:48') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:53', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:53' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:53') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:44:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:44:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:24:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:44:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:44:58', '2014-10-06 09:44:58')
  [1m[36m (91.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:44:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:44:58', '2014-10-06 09:44:58')[0m
  [1m[35m (85.7ms)[0m  COMMIT
  [1m[36mAgent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (239.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:45:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 17[0m
  [1m[35m (75.1ms)[0m  COMMIT
  [1m[36mSQL (73.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:45:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 18[0m
  [1m[35m (72.4ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:08', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:08' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:08') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:13', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:13' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:13') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:18', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:18' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:18') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:23', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:23' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:23') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:28', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:28' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:28') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:33', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:33' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:33') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:38', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:38' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:38') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:43', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:43' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:43') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:48', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:48' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:48') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (3.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:53', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:53' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:53') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:45:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:45:58', '2014-10-06 09:45:58')
  [1m[36m (84.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:45:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:45:58', '2014-10-06 09:45:58')[0m
  [1m[35m (105.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:45:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:45:58', '2014-10-06 09:45:58')
  [1m[36m (83.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (165.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:45:58' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (4.2ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 19
  [1m[36m (75.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (97.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.6ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:45:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 20[0m
  [1m[35m (123.1ms)[0m  COMMIT
  [1m[36mSQL (77.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:45:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 21[0m
  [1m[35m (90.6ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:45:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:45:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:25:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mAgent Load (0.5ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:09', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:09' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:09') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:14', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:14' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:14') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:19', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:19' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:19') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:24', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:24' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:24') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:29', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:29' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:29') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:34', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:34' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:34') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:39', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:39' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:39') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:44', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:44' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:44') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:49', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:49' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:49') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:54', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:54' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:54') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:46:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:46:58', '2014-10-06 09:46:58')
  [1m[36m (162.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (94.9ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:46:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:46:58', '2014-10-06 09:46:58')[0m
  [1m[35m (399.2ms)[0m  COMMIT
  [1m[36mSQL (147.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:46:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 22
  [1m[36m (186.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (87.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:46:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:46:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:26:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:46:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 23
  [1m[36m (100.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mAgent Load (0.6ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:05') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:10') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:15') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:20') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:25') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:30') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:35') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (4.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:40') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:45') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:50') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:47:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:47:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:27:55') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:47:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_10m\n', 10, '2014-10-06 09:47:57', '2014-10-06 09:47:57')[0m
  [1m[35m (104.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:47:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_5m\n', 10, '2014-10-06 09:47:57', '2014-10-06 09:47:57')
  [1m[36m (114.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:47:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:47:58', '2014-10-06 09:47:58')[0m
  [1m[35m (111.9ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:47:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:47:58', '2014-10-06 09:47:58')
  [1m[36m (132.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:47:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:47:58', '2014-10-06 09:47:58')[0m
  [1m[35m (103.4ms)[0m  COMMIT
  [1m[36mSQL (192.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (1.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_10m' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 24[0m
  [1m[35m (102.1ms)[0m  COMMIT
  [1m[36mAgent Load (0.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (92.1ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_5m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 25
  [1m[36m (94.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (92.2ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 26
  [1m[36m (92.9ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (93.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:48:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.2ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 27[0m
  [1m[35m (87.8ms)[0m  COMMIT
  [1m[36mSQL (101.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:48:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 28[0m
  [1m[35m (104.3ms)[0m  COMMIT
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:06') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:11') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:16') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:21') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:26') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:31') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:36') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:41') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:46') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:51') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:48:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:48:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:28:56') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:48:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:48:58', '2014-10-06 09:48:58')[0m
  [1m[35m (96.0ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:48:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:48:58', '2014-10-06 09:48:58')
  [1m[36m (107.3ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (124.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:49:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.3ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 29
  [1m[36m (93.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (79.2ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:49:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 30
  [1m[36m (98.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:06') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:11') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:16') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:21') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:26') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:31') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:36') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:41') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:46') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:51') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:49:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:49:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:29:56') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:49:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:49:58', '2014-10-06 09:49:58')
  [1m[36m (77.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:49:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:49:58', '2014-10-06 09:49:58')[0m
  [1m[35m (167.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:49:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:49:59', '2014-10-06 09:49:59')
  [1m[36m (124.5ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.6ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (138.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:50:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 31[0m
  [1m[35m (95.1ms)[0m  COMMIT
  [1m[36mSQL (88.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.4ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:50:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.1ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 32
  [1m[36m (88.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (92.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.4ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:50:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 33
  [1m[36m (112.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:07', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:07' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:07') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:12', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:12' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:12') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:17', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:17' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:17') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:22', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:22' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:22') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:27', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:27' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:27') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:32', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:32' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:32') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:37', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:37' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:37') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:42', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:42' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:42') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:47', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:47' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:47') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:52', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:52' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:52') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:50:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:50:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:30:57') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:50:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:50:58', '2014-10-06 09:50:58')
  [1m[36m (97.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:50:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:50:59', '2014-10-06 09:50:59')[0m
  [1m[35m (102.3ms)[0m  COMMIT
  [1m[36mAgent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (131.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:51:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 34[0m
  [1m[35m (87.6ms)[0m  COMMIT
  [1m[36mSQL (93.2ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:51:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 35[0m
  [1m[35m (94.7ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:08', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:08' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:08') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:13', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:13' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:13') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:18', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:18' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:18') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:23', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:23' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:23') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:28', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:28' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:28') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:33', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:33' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:33') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:38', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:38' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:38') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:43', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:43' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:43') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:48', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:48' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:48') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:53', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:53' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:53') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:51:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:51:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:31:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:51:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:51:58', '2014-10-06 09:51:58')[0m
  [1m[35m (113.3ms)[0m  COMMIT
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:51:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:51:58', '2014-10-06 09:51:58')
  [1m[36m (94.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:51:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:51:59', '2014-10-06 09:51:59')[0m
  [1m[35m (103.6ms)[0m  COMMIT
  [1m[36mAgent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (103.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 36
  [1m[36m (77.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (75.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.4ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.1ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 37[0m
  [1m[35m (73.2ms)[0m  COMMIT
  [1m[36mSQL (83.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 38[0m
  [1m[35m (76.6ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:08', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:08' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:08') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:13', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:13' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:13') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:18', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:18' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:18') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:23', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:23' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:23') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:28', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:28' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:28') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:33', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:33' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:33') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:38', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:38' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:38') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:43', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:43' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:43') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:48', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:48' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:48') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:53', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:53' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:53') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:52:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_5m\n', 10, '2014-10-06 09:52:57', '2014-10-06 09:52:57')
  [1m[36m (82.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (142.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:52:58' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_5m' GROUP BY type
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 39
  [1m[36m (76.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:52:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:52:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:32:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:52:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:52:59', '2014-10-06 09:52:59')[0m
  [1m[35m (94.5ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:52:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:52:59', '2014-10-06 09:52:59')
  [1m[36m (243.5ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (92.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.4ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:53:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.1ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 40
  [1m[36m (86.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (185.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:53:04' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 41
  [1m[36m (100.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:09', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:09' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:09') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:14', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:14' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:14') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:19', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:19' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:19') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:24', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:24' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:24') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:29', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:29' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:29') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:34', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:34' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:34') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:39', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:39' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:39') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:44', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:44' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:44') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:49', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:49' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:49') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:54', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:54' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:54') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:53:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:53:58', '2014-10-06 09:53:58')[0m
  [1m[35m (86.8ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:53:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:53:59', '2014-10-06 09:53:59')
  [1m[36m (209.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:53:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:53:59', '2014-10-06 09:53:59')[0m
  [1m[35m (124.5ms)[0m  COMMIT
  [1m[36mSQL (147.1ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:53:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 42[0m
  [1m[35m (79.4ms)[0m  COMMIT
  [1m[36mSQL (83.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.6ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:53:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.3ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 43
  [1m[36m (76.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (75.3ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:53:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:53:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:33:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:53:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 44
  [1m[36m (70.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:05') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:10') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:15') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:20') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:25') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:30') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:35') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:40') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:45') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:50') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:54:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:54:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:34:55') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:54:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:54:59', '2014-10-06 09:54:59')[0m
  [1m[35m (101.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:54:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:54:59', '2014-10-06 09:54:59')
  [1m[36m (111.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (133.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:55:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 45[0m
  [1m[35m (66.6ms)[0m  COMMIT
  [1m[36mSQL (79.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:55:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 46[0m
  [1m[35m (75.7ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mAgent Load (0.5ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:05') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:10') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:15') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:20') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:25') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:30') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:35') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:40') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:45') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:50') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:55:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:55:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:35:55') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:55:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:55:58', '2014-10-06 09:55:58')
  [1m[36m (86.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:55:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:55:59', '2014-10-06 09:55:59')[0m
  [1m[35m (247.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:55:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:55:59', '2014-10-06 09:55:59')
  [1m[36m (107.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (141.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:56:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 47
  [1m[36m (95.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (78.2ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:56:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 48[0m
  [1m[35m (95.4ms)[0m  COMMIT
  [1m[36mSQL (68.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:56:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 49[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36m (96.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:06') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:11') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:16') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:21') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:26') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:31') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:36') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:41') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:46') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:51') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:56:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:56:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:36:56') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:56:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:56:59', '2014-10-06 09:56:59')
  [1m[36m (157.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:56:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:56:59', '2014-10-06 09:56:59')[0m
  [1m[35m (78.9ms)[0m  COMMIT
  [1m[36mAgent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (127.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:57:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 50[0m
  [1m[35m (82.4ms)[0m  COMMIT
  [1m[36mSQL (87.1ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:57:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 51[0m
  [1m[35m (94.8ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:06') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:11') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:16') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:21') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:26') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:31') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:36') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:41') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:46') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:51') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:57:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:57:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:37:56') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:57:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_10m\n', 10, '2014-10-06 09:57:57', '2014-10-06 09:57:57')[0m
  [1m[35m (89.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:57:57', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_5m\n', 10, '2014-10-06 09:57:57', '2014-10-06 09:57:57')
  [1m[36m (112.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:57:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:57:58', '2014-10-06 09:57:58')[0m
  [1m[35m (120.1ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:57:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:57:59', '2014-10-06 09:57:59')
  [1m[36m (133.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:57:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:57:59', '2014-10-06 09:57:59')[0m
  [1m[35m (121.5ms)[0m  COMMIT
  [1m[36mAgent Load (0.6ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (133.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:01') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:58:01' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_10m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 52
  [1m[36m (95.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (79.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_5m' GROUP BY type
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 53
  [1m[36m (94.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (78.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 54
  [1m[36m (98.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (77.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.2ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 55[0m
  [1m[35m (96.9ms)[0m  COMMIT
  [1m[36mSQL (78.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 56[0m
  [1m[35m (93.1ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:07', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:07' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:07') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:12', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:12' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:12') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:17', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:17' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:17') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:22', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:22' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:22') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:27', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:27' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:27') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:32', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:32' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:32') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:37', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:37' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:37') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:42', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:42' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:42') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:47', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:47' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:47') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:52', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:52' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:52') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:58:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:58:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:38:57') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:58:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:58:59', '2014-10-06 09:58:59')[0m
  [1m[35m (187.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:58:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:58:59', '2014-10-06 09:58:59')
  [1m[36m (140.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (134.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:02') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:59:02' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.2ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 57
  [1m[36m (82.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (91.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 09:59:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 58
  [1m[36m (85.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:08', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:08' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:08') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:13', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:13' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:13') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:18', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:18' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:18') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:23', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:23' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:23') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:28', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:28' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:28') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:33', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:33' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:33') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:38', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:38' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:38') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:43', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:43' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:43') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:48', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:48' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:48') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:53', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:53' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:53') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 09:59:58', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 09:59:58' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:39:58') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (17.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:59:58', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 09:59:58', '2014-10-06 09:59:58')
  [1m[36m (134.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:59:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 09:59:59', '2014-10-06 09:59:59')[0m
  [1m[35m (83.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 09:59:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 09:59:59', '2014-10-06 09:59:59')
  [1m[36m (117.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:00:00', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- 3am\n', 10, '2014-10-06 10:00:00', '2014-10-06 10:00:00')[0m
  [1m[35m (134.4ms)[0m  COMMIT
  [1m[36mAgent Load (0.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (246.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:00:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 59
  [1m[36m (93.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (67.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:00:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 60[0m
  [1m[35m (83.7ms)[0m  COMMIT
  [1m[36mSQL (81.2ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:03', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:03' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:03') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:00:03' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 61[0m
  [1m[35m (81.5ms)[0m  COMMIT
  [1m[36mSQL (69.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:00:04' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (1.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = '3am' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 62[0m
  [1m[35m (199.1ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:09', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:09' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:09') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:14', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:14' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:14') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:19', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:19' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:19') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:24', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:24' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:24') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:29', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:29' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:29') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:34', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:34' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:34') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:39', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:39' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:39') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:44', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:44' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:44') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:49', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:49' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:49') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:54', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:54' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:54') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:00:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:00:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:40:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:00:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 10:00:59', '2014-10-06 10:00:59')[0m
  [1m[35m (84.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:00:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 10:00:59', '2014-10-06 10:00:59')
  [1m[36m (113.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (130.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.4ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:01:04' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.1ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 63
  [1m[36m (73.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (71.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.7ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:01:04' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 64
  [1m[36m (79.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:04') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:09', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:09' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:09') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:14', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:14' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:14') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:19', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:19' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:19') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:24', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:24' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:24') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:29', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:29' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:29') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:34', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:34' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:34') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:39', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:39' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:39') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:44', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:44' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:44') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:49', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:49' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:49') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:54', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:54' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:54') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (15.0ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:01:59', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 10:01:59', '2014-10-06 10:01:59')[0m
  [1m[35m (316.3ms)[0m  COMMIT
  [1m[36mSQL (95.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:01:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:01:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:41:59') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:01:59' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 65[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:02:00', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 10:02:00', '2014-10-06 10:02:00')[0m
  [1m[35m (94.9ms)[0m  COMMIT
  [1m[36m (128.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:02:00', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 10:02:00', '2014-10-06 10:02:00')[0m
  [1m[35mSQL (197.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:02:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:02:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:42:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:02:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 66[0m
  [1m[35m (189.7ms)[0m  COMMIT
  [1m[36m (197.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (90.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:02:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:02:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:42:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:02:00' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 67
  [1m[36m (95.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:02:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:02:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:42:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:02:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:02:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:42:00') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mAgent Load (0.2ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:02:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372' WHERE ((run_at <= '2014-10-06 10:02:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 09:42:05') OR locked_by = 'host:ubuntu pid:21372') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_by` = NULL, `delayed_jobs`.`locked_at` = NULL WHERE `delayed_jobs`.`locked_by` = 'host:ubuntu pid:21372'
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:23:54', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:23:53' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:03:53') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:23:59', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:23:59' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:03:59') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:04', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:04' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:04') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:10') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:15') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:20') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:25') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:30') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:35') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:40') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:45') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:50') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:24:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 10:24:53', '2014-10-06 10:24:53')
  [1m[36m (119.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:24:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 10:24:53', '2014-10-06 10:24:53')[0m
  [1m[35m (97.8ms)[0m  COMMIT
  [1m[36mAgent Load (0.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (216.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:55') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:24:55' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.4ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 68[0m
  [1m[35m (100.6ms)[0m  COMMIT
  [1m[36mSQL (76.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:55') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:24:55' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 69[0m
  [1m[35m (88.5ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:55') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:24:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:24:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:04:55') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:00', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:00' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:00') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:05', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:05' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:05') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:10', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:10' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:10') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:15', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:15' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:15') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:20', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:20' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:20') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:25', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:25' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:25') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:30', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:30' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:30') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:35', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:35' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:35') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:40', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:40' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:40') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:45', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:45' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:45') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:50', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:50' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:50') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:25:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 10:25:53', '2014-10-06 10:25:53')[0m
  [1m[35m (132.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:25:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 10:25:53', '2014-10-06 10:25:53')
  [1m[36m (89.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:25:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 10:25:53', '2014-10-06 10:25:53')[0m
  [1m[35m (93.2ms)[0m  COMMIT
  [1m[36mAgent Load (0.5ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'[0m
  [1m[35mSQL (96.0ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:55') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:25:55' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 70
  [1m[36m (80.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (93.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:55', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:55' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:55') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:25:55' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))[0m
  [1m[35mAgent Load (0.3ms)[0m  SELECT `agents`.* FROM `agents`  WHERE 1=0
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 71[0m
  [1m[35m (82.7ms)[0m  COMMIT
  [1m[36mSQL (91.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (1.0ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:25:56' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 72[0m
  [1m[35m (79.5ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:25:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:25:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:05:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:01') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:06') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:11') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:16') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:21') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:26') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:31') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:36') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:41') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:46') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:51') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:26:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 10:26:53', '2014-10-06 10:26:53')[0m
  [1m[35m (132.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:26:54', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 10:26:54', '2014-10-06 10:26:54')
  [1m[36m (65.0ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (162.7ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:26:56' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 73
  [1m[36m (67.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (77.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (1.1ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:26:56' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 74
  [1m[36m (75.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:26:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:26:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:06:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:01', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:01' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:01') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:06', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:06' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:06') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:11', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:11' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:11') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:16', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:16' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:16') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:21', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:21' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:21') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:26', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:26' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:26') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:31', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:31' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:31') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:36', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:36' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:36') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:41', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:41' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:41') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:46', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:46' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:46') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:51', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:51' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:51') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:27:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_2m\n', 10, '2014-10-06 10:27:53', '2014-10-06 10:27:53')
  [1m[36m (78.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:27:53', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :receive!\nargs: []\n', 10, '2014-10-06 10:27:53', '2014-10-06 10:27:53')[0m
  [1m[35m (102.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `delayed_jobs` (`created_at`, `handler`, `priority`, `run_at`, `updated_at`) VALUES ('2014-10-06 10:27:54', '--- !ruby/object:Delayed::PerformableMethod\nobject: !ruby/class \'Agent\'\nmethod_name: :run_schedule\nargs:\n- every_1m\n', 10, '2014-10-06 10:27:54', '2014-10-06 10:27:54')
  [1m[36m (103.6ms)[0m  [1mCOMMIT[0m
  [1m[35mAgent Load (0.5ms)[0m  SELECT `agents`.* FROM `agents`  WHERE `agents`.`type` = 'Agents::SchedulerAgent'
  [1m[36mSQL (127.5ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:56', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:56' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:56') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.9ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:27:56' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_2m' GROUP BY type[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 75[0m
  [1m[35m (113.6ms)[0m  COMMIT
  [1m[36mSQL (88.2ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:57') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.6ms)[0m  SELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:27:57' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT agents.id AS receiver_agent_id, sources.id AS source_agent_id, events.id AS event_id FROM `agents` JOIN links ON (links.receiver_id = agents.id) JOIN agents AS sources ON (links.source_id = sources.id) JOIN events ON (events.agent_id = sources.id AND events.id > links.event_id_at_creation) WHERE (NOT agents.disabled AND (agents.last_checked_event_id IS NULL OR events.id > agents.last_checked_event_id))
  [1m[36mAgent Load (0.4ms)[0m  [1mSELECT `agents`.* FROM `agents`  WHERE 1=0[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 76
  [1m[36m (90.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (86.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:57') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.8ms)[0m  [1mSELECT  `delayed_jobs`.* FROM `delayed_jobs`  WHERE `delayed_jobs`.`locked_at` = '2014-10-06 10:27:57' AND `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' AND `delayed_jobs`.`failed_at` IS NULL  ORDER BY `delayed_jobs`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `agents`.`type` FROM `agents`  WHERE `agents`.`schedule` = 'every_1m' GROUP BY type
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `delayed_jobs` WHERE `delayed_jobs`.`id` = 77
  [1m[36m (81.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:57') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:27:57', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:27:57' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:07:57') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:02', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:02' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:02') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:07', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:07' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:07') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:12', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:12' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:12') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:17', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:17' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:17') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:22', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:22' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:22') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:27', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:27' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:27') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:32', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:32' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:32') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:37', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:37' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:37') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (3.9ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:42', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:42' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:42') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `delayed_jobs` SET `delayed_jobs`.`locked_at` = '2014-10-06 10:28:47', `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466' WHERE ((run_at <= '2014-10-06 10:28:47' AND (locked_at IS NULL OR locked_at < '2014-10-06 10:08:47') OR locked_by = 'host:ubuntu pid:23466') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `delayed_jobs` SET `delayed_jobs`.`locked_by` = NULL, `delayed_jobs`.`locked_at` = NULL WHERE `delayed_jobs`.`locked_by` = 'host:ubuntu pid:23466'
